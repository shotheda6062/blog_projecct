"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4080],{4080:function(t,e,r){r.r(e);var a=r(2729),s=r(5944),n=r(3964),d=r(3697),i=r(7294),l=r(7366),u=r(4828);function c(){let t=(0,a._)(["\n  margin-top: 2.5rem;\n"]);return c=function(){return t},t}e.default=t=>{let{id:e,slug:r,title:a}=t,[l,c]=(0,i.useState)(0),[p]=(0,u.Z)(),f=(0,i.useCallback)(()=>{c(t=>t+1)},[]);return(0,i.useEffect)(()=>{let t=new MutationObserver(t=>{t.forEach(t=>{f()})});return t.observe(document.documentElement,{attributeFilter:["class"]}),()=>{t.disconnect()}},[f]),(0,s.tZ)(s.HY,{children:(0,s.tZ)(o,{id:"comments",children:(0,s.tZ)(d.s,{attrs:{host:n.CONFIG.cusdis.config.host,appId:n.CONFIG.cusdis.config.appid,pageId:e,pageTitle:a,pageUrl:"".concat(n.CONFIG.link,"/").concat(r),theme:p}},l)})})};let o=l.Z.div(c())},3697:function(t,e,r){e.s=void 0;let a=r(7294),s=r(168);e.s=function(t){let e=a.useRef(null),r=t.attrs.host||"https://cusdis.com";return s.useScript(`${r}/js/cusdis.es.js`),s.useScript(t.lang?`${r}/js/widget/lang/${t.lang}.js`:""),a.useLayoutEffect(()=>{let t=window.renderCusdis;t&&t(e.current)},[t.attrs.appId,t.attrs.host,t.attrs.pageId,t.attrs.pageTitle,t.attrs.pageUrl,t.lang]),a.createElement(a.Fragment,null,a.createElement("div",{id:"cusdis_thread","data-host":r,"data-page-id":t.attrs.pageId,"data-app-id":t.attrs.appId,"data-page-title":t.attrs.pageTitle,"data-page-url":t.attrs.pageUrl,"data-theme":t.attrs.theme,style:t.style,ref:e}))}},168:function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.useScript=void 0;let a=r(7294);e.useScript=function(t){let[e,r]=a.useState(t?"loading":"idle");return a.useEffect(()=>{if(!t){r("idle");return}let e=document.querySelector(`script[src="${t}"]`);if(e)r(e.getAttribute("data-status"));else{(e=document.createElement("script")).src=t,e.async=!0,e.setAttribute("data-status","loading"),document.body.appendChild(e);let r=t=>{e.setAttribute("data-status","load"===t.type?"ready":"error")};e.addEventListener("load",r),e.addEventListener("error",r)}let a=t=>{r("load"===t.type?"ready":"error")};return e.addEventListener("load",a),e.addEventListener("error",a),()=>{e&&(e.removeEventListener("load",a),e.removeEventListener("error",a))}},[t]),e}}}]);